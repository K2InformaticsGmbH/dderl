<html>
	<head>
	</head>
    <script language="javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script language="javascript" src="http://code.jquery.com/ui/1.8.24/jquery-ui.min.js"></script>
	<body>
        <script>
            (function( $ ) {
                $.widget( "nmk.progressbar", $.ui.dialog, {
                //$.widget( "nmk.progressbar", {
                	options: {
                		title: ""
                	},
                	_create: function() {
                		this.element.addClass( "progressbar" );
                		this._update();
                	},
                	_setOption: function( key, value ) {
                        $.ui.dialog.prototype._setOption.call(this, key, value)
                		this.options[ key ] = value;
                		this._update();
                
                        //this._super('_setOption', key, value);
                        //$.Widget.prototype._setOption.apply(this, arguments);
                	},
                	_update: function() {
                		var progress = this.options.title + "%";
                		this.element.text( progress );
                	}
                });
            } ( jQuery ) );
            $(document).ready(function() {
                $('<div>')
                    .appendTo(document.body)
                    .progressbar({
                        title       : "0"
                    })
                    //.progressbar('option', 'title', "100");
            });
        </script>
	</body>
</html>

